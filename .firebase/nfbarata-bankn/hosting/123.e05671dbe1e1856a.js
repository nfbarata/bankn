"use strict";(self.webpackChunkbankn=self.webpackChunkbankn||[]).push([[123],{3123:(X,S,C)=>{C.r(S),C.d(S,{AccountModule:()=>G});var i=C(433),u=C(6895),a=C(4736),f=C(3391),e=C(8256),p=C(9865),d=C(8164),U=C(5134);function P(o,t){if(1&o&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&o){const _=t.$implicit,c=e.oxw();e.Q6J("selected",_.alpha2==c.form.value.referenceCountry)("value",_.alpha2),e.xp6(1),e.AsE("",_.name," - ",_.currencies[0],"")}}function v(o,t){if(1&o){const _=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(_);const n=e.oxw();return e.KtG(n.onDelete(n.form.value.id))}),e.SDv(1,38),e.qZA()}}let m=(()=>{const t=class{constructor(c,n,r,l,T,N,O){this.banknService=c,this.accountService=n,this.formBuilder=r,this.route=l,this.router=T,this.location=N,this.utilsService=O,this.form=new i.nJ({id:new i.p4(null),name:new i.p4,referenceAmount:new i.p4,referenceCountry:new i.p4,referenceDay:new i.p4,referenceMonth:new i.p4,referenceYear:new i.p4,description:new i.p4})}ngOnInit(){this.countries=this.utilsService.getCountries(),this.route.paramMap.subscribe(c=>{var n=c.get("accountId");if(null==n||0==n.trim().length)this.form.setValue({id:null,name:"Main",referenceAmount:f.n.toInputValue(this.accountService.toDinero(0,null)),referenceCountry:this.banknService.getReferenceCountry(),referenceDay:"1",referenceMonth:"1",referenceYear:"2000",description:""});else{var r=this.accountService.getAccount(n);null!=r&&this.form.setValue({id:r.id,name:r.name,referenceAmount:f.n.toInputValue(r.referenceAmount),referenceCountry:r.referenceCountry,referenceDay:r.referenceDate.getDate(),referenceMonth:r.referenceDate.getMonth()+1,referenceYear:r.referenceDate.getFullYear(),description:r.description})}})}onSubmit(){var c=f.n.fromInputValue(this.form.controls.referenceAmount.value,this.form.controls.referenceCountry.value),n=new Date(0);n.setFullYear(this.form.controls.referenceYear.value,this.form.controls.referenceMonth.value-1,this.form.controls.referenceDay.value),null==this.form.controls.id.value?this.accountService.createAccount(this.form.controls.name.value,this.form.controls.description.value,n,this.form.controls.referenceCountry.value,c):this.accountService.updateAccount(this.form.controls.id.value,this.form.controls.name.value,this.form.controls.description.value,c,n,this.form.controls.referenceCountry.value),this.form.reset(),this.router.navigate([""])}onDelete(c){this.accountService.deleteAccountId(c),this.location.back()}onCancel(){this.location.back()}};let o=t;return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.D),e.Y36(d.B),e.Y36(i.QS),e.Y36(a.gz),e.Y36(a.F0),e.Y36(u.Ye),e.Y36(U.F))},t.\u0275cmp=e.Xpm({type:t,selectors:[["account"]],decls:53,vars:5,consts:function(){let c,n,r,l,T,N,O,M,g,E;return c=$localize`Name`,n=$localize`Reference Value`,r=$localize`Reference Date`,l=$localize`Day`,T=$localize`Month`,N=$localize`Year`,O=$localize` Description `,M=$localize`${"\ufffd0\ufffd"}:INTERPOLATION:`,g=$localize`Cancel`,E=$localize`Delete`,[[3,"formGroup","ngSubmit"],[1,"container"],[1,"row"],[1,"col-sm-6","form-group"],["for","name"],c,["id","name","type","text","formControlName","name",1,"form-control"],[1,"col-sm-12","form-group"],n,[1,"col-sm-2","form-group"],["title","referenceAmount","id","referenceAmount","type","text","formControlName","referenceAmount",1,"form-control"],["id","referenceAmountHelpBlock",1,"form-text","text-muted"],[1,"col-sm-4","form-group"],["title","referenceCountry","formControlName","referenceCountry",1,"form-control"],[3,"selected","value",4,"ngFor","ngForOf"],["id","referenceCountryHelpBlock",1,"form-text","text-muted"],r,[1,"col-xl-1","col-md-2","col-4","form-group"],["title","referenceDay","id","referenceDay","type","text","formControlName","referenceDay",1,"form-control"],["id","referenceDayHelpBlock",1,"form-text","text-muted"],l,["title","referenceMonth","id","referenceMonth","type","text","formControlName","referenceMonth",1,"form-control"],["id","referenceMonthHelpBlock",1,"form-text","text-muted"],T,["title","referenceYear","id","referenceYear","type","text","formControlName","referenceYear",1,"form-control"],["id","referenceYearHelpBlock",1,"form-text","text-muted"],N,[1,"col-sm-6","col-12","form-group"],["for","description"],O,["id","description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-primary"],M,["class","btn btn-danger text-white","role","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],g,[3,"selected","value"],["role","button",1,"btn","btn-danger","text-white",3,"click"],E]},template:function(n,r){1&n&&(e.TgZ(0,"h2"),e._uU(1),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"form",0),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"label",4),e.SDv(8,5),e.qZA(),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"div",2)(11,"div",7)(12,"label"),e.SDv(13,8),e.qZA()()(),e.TgZ(14,"div",2)(15,"div",9),e._UZ(16,"input",10),e.TgZ(17,"small",11),e._uU(18,"Value"),e.qZA()(),e.TgZ(19,"div",12)(20,"select",13),e.YNc(21,P,2,4,"option",14),e.qZA(),e.TgZ(22,"small",15),e._uU(23,"Currency"),e.qZA()()(),e.TgZ(24,"div",2)(25,"div",7)(26,"label"),e.SDv(27,16),e.qZA()()(),e.TgZ(28,"div",2)(29,"div",17),e._UZ(30,"input",18),e.TgZ(31,"small",19),e.SDv(32,20),e.qZA()(),e.TgZ(33,"div",17),e._UZ(34,"input",21),e.TgZ(35,"small",22),e.SDv(36,23),e.qZA()(),e.TgZ(37,"div",17),e._UZ(38,"input",24),e.TgZ(39,"small",25),e.SDv(40,26),e.qZA()()(),e.TgZ(41,"div",2)(42,"div",27)(43,"label",28),e.SDv(44,29),e.qZA(),e._UZ(45,"textarea",30),e.qZA()()(),e.TgZ(46,"button",31),e.SDv(47,32),e.qZA(),e._uU(48," \xa0 "),e.YNc(49,v,2,0,"a",33),e._uU(50," \xa0 "),e.TgZ(51,"button",34),e.NdJ("click",function(){return r.onCancel()}),e.SDv(52,35),e.qZA()()),2&n&&(e.xp6(1),e.Oqu(null==r.form.value.id?"Create Account":"Edit Account"),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(18),e.Q6J("ngForOf",r.countries),e.xp6(26),e.pQV(null==r.form.value.id?"Create":"Ok"),e.QtT(47),e.xp6(2),e.Q6J("ngIf",null!=r.form.value.id))},dependencies:[u.sg,u.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u]}),o})();var h=C(106),L=C(5177);function D(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",8),e._UZ(2,"account-create-card"),e.qZA()())}const A=function(o){return["/accounts/account",o]},Z=function(o){return["/transactions/",o]};function $(o,t){if(1&o&&(e.TgZ(0,"tr")(1,"td",15),e._uU(2),e.qZA(),e.TgZ(3,"td",16),e._uU(4),e.qZA(),e.TgZ(5,"td",17)(6,"button",18),e.SDv(7,19),e.qZA(),e._uU(8,"\xa0 "),e.TgZ(9,"button",20),e.SDv(10,21),e.qZA()()()),2&o){const _=t.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(6,A,_.id)),e.xp6(1),e.hij("",_.name,"\xa0"),e.xp6(1),e.Q6J("routerLink",e.VKq(8,A,_.id)),e.xp6(1),e.hij("",_.description,"\xa0"),e.xp6(2),e.Q6J("routerLink",e.VKq(10,A,_.id)),e.xp6(3),e.Q6J("routerLink",e.VKq(12,Z,_.id))}}function y(o,t){if(1&o&&(e.TgZ(0,"table",9)(1,"thead")(2,"tr",10)(3,"th",11),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",12),e._uU(6,"Description"),e.qZA(),e.TgZ(7,"th",13),e._uU(8,"\xa0"),e.qZA()()(),e.TgZ(9,"tbody"),e.YNc(10,$,11,14,"tr",14),e.qZA()()),2&o){const _=e.oxw();e.xp6(10),e.Q6J("ngForOf",_.accounts)}}const R=function(){return["/accounts/account"]},I=[{path:"",component:(()=>{const t=class{constructor(c,n){this.eventsService=c,this.accountService=n,this.accounts=[]}ngOnInit(){this.refreshAccounts(),this.eventsService.accountsChange.subscribe(()=>{this.refreshAccounts()})}refreshAccounts(){this.accounts=this.accountService.getAccounts()}};let o=t;return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.n),e.Y36(d.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["account-list"]],decls:11,vars:4,consts:function(){let c,n,r;return c=$localize`Accounts`,n=$localize`Edit`,r=$localize`Txns`,[[1,"row"],[1,"col-6"],c,[1,"col-6","text-right"],["type","submit",1,"btn","btn-secondary",3,"routerLink"],["class","row",4,"ngIf"],[1,"table-responsive"],["class","table table-sm table-hover",4,"ngIf"],[1,"col-sm-5"],[1,"table","table-sm","table-hover"],[1,"table-active"],["scope","col","width","0%",1,""],["scope","col",1,""],["scope","col","width","0%",1,"text-right"],[4,"ngFor","ngForOf"],["scope","row",3,"routerLink"],[3,"routerLink"],[1,"text-right"],[1,"btn","btn-primary",3,"routerLink"],n,[1,"btn","btn-secondary",3,"routerLink"],r]},template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e.SDv(3,2),e.qZA()(),e.TgZ(4,"div",3)(5,"button",4),e._uU(6,"New"),e.qZA()()(),e._UZ(7,"br"),e.YNc(8,D,3,0,"div",5),e.TgZ(9,"div",6),e.YNc(10,y,11,1,"table",7),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(3,R)),e.xp6(3),e.Q6J("ngIf",0==r.accounts.length),e.xp6(2),e.Q6J("ngIf",r.accounts.length>0))},dependencies:[u.sg,u.O5,a.rH,L.x]}),o})()},{path:"account",component:m},{path:"account/:accountId",component:m}];let b=(()=>{const t=class{};let o=t;return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.Bz.forChild(I),a.Bz]}),o})();var x=C(2271);let G=(()=>{const t=class{};let o=t;return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,i.u5,i.UX,b,x.m]}),o})()}}]);